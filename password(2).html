<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIP Premium Games</title>
    <style>
        :root {
            --gold: #FFD700;
            --gold-light: #FFF2CC;
            --gold-dark: #D4AF37;
            --black: #121212;
            --white: #FFFFFF;
            --dark-gradient: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        @keyframes subtle-glow {
            0% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.2); }
            50% { box-shadow: 0 0 25px rgba(255, 215, 0, 0.4); }
            100% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.2); }
        }

        @keyframes subtle-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        body {
            font-family: 'Segoe UI', Roboto, -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark-gradient);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            color: var(--black);
        }
        
        .container {
            background: linear-gradient(145deg, rgba(20, 20, 20, 0.9), rgba(30, 30, 30, 0.95));
            border: 1px solid var(--gold);
            border-radius: 16px;
            padding: 40px 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            width: 90%;
            max-width: 400px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            animation: subtle-glow 4s infinite ease-in-out;
        }
        
        .container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            opacity: 0.7;
        }
        
        .container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.6), 0 0 20px rgba(255, 215, 0, 0.2);
        }
        
        .vip-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, var(--gold-dark), var(--gold));
            color: var(--black);
            padding: 6px 12px;
            font-weight: bold;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            font-size: 0.8rem;
            z-index: 10;
            letter-spacing: 1px;
        }
        
        h1 {
            background: linear-gradient(to right, #D4AF37, #FFD700, #FFF8DC, #FFD700);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            font-weight: 800;
            font-size: 2.2rem;
            letter-spacing: 1px;
            text-transform: uppercase;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
        }
        
        h2 {
            color: var(--white);
            margin-bottom: 12px;
            font-weight: 600;
            font-size: 1.5rem;
        }
        
        h3 {
            color: var(--gold);
            margin: 15px 0;
            font-size: 1.2rem;
            font-weight: 500;
            letter-spacing: 0.5px;
        }
        
        p {
            color: #bdbdbd;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }
        
        .password-area {
            margin: 25px 0;
            position: relative;
        }
        
        .lock-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gold);
            font-size: 1.2rem;
        }
        
        input[type="password"], input[type="text"], input[type="email"], input[type="number"] {
            width: 100%;
            padding: 15px;
            padding-right: 40px;
            margin: 10px 0;
            border: 2px solid var(--gold-dark);
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
            transition: all 0.3s;
            background-color: rgba(20, 20, 20, 0.8);
            color: var(--white);
        }
        
        input[type="password"]::placeholder, input[type="text"]::placeholder, input[type="email"]::placeholder, input[type="number"]::placeholder {
            color: #888;
        }
        
        input[type="password"]:focus, input[type="text"]:focus, input[type="email"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        button {
            background: linear-gradient(135deg, var(--gold-dark), var(--gold), var(--gold-dark));
            color: var(--black);
            border: none;
            padding: 15px 25px;
            margin: 10px 5px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            letter-spacing: 0.8px;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
        }
        
        button::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.6s ease;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }
        
        button:hover::after {
            left: 150%;
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .btn-payment {
            background: linear-gradient(135deg, #E3A008, #FFC107, #E3A008);
            animation: subtle-pulse 3s infinite ease-in-out;
        }
        
        .btn-exit {
            background: linear-gradient(135deg, #991B1B, #EF4444, #991B1B);
        }
        
        .message {
            color: #EF4444;
            margin-top: 12px;
            height: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .success-message {
            color: #10B981;
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 15px;
        }
        
        .countdown {
            font-size: 3.5rem;
            font-weight: bold;
            background: linear-gradient(to right, var(--gold-dark), var(--gold), var(--gold-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 15px 0;
            transition: all 0.3s;
        }
        
        .countdown-container {
            display: none;
        }

        .expiration-container {
            display: none;
            margin: 20px 0;
        }

        .expiration-time {
            color: var(--white);
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .expiration-countdown {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--gold);
            margin: 10px 0;
        }

        .premium-label {
            display: inline-block;
            background: var(--gold);
            color: var(--black);
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 5px;
            vertical-align: middle;
            text-transform: uppercase;
        }

        .buttons-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .lockout-container {
            display: none;
            margin: 20px 0;
        }
        
        .lockout-message {
            color: #EF4444;
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 15px;
        }
        
        .lockout-countdown {
            font-size: 2.5rem;
            font-weight: bold;
            color: #EF4444;
            margin: 15px 0;
        }
        
        .payment-container {
            display: none;
            margin: 20px 0;
        }
        
        .payment-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .form-group {
            text-align: left;
        }
        
        .form-group label {
            display: block;
            color: var(--gold-light);
            margin-bottom: 5px;
            font-weight: 500;
        }
     
       .payment-options {
        display: flex;
        justify-content: center;
        gap: 1px
        margin: 20px ;
    }
    
    .payment-option {
        border: 2px solid #ddd;
        padding: 15px;
        border-radius: 30px;
        text-align: center;
        cursor: pointer;
        flex: 1;
        margin: 0 10px;
        transition: all 0.3s ease;
    }
    
    .payment-option:hover {
        border-color: #FFD700;
        background-color: #f9f9f9;
    }
    
    .payment-option.selected {
        border-color: #4CAF50;
        background-color: #f0f9f0;
    }
    
    .price-display {
        font-size: 18px;
        font-weight: bold;
        margin-top: 10px;
    }
    
    .price-display small {
        font-size: 12px;
        font-weight: normal;
        color: #666;
    }
    
    .fee-info {
        background-color: #D4AF37;
        padding: 10px;
        border-radius: 30px;
        margin: 15px 0;
        font-size: 14px;
    }
    
    .form-group {
        margin-bottom: 5px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 2px;
    }
    
    .form-group input {
        width: 100%;
        padding: 5px;
        border: 2px solid #ddd;
        border-radius: 20px;
    }
    
    .button-group {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
    }
    
    .payment-button {
        background-color: #4CAF50;
        color: white;
        border: #046307;
        padding: 10px 20px;
        border-radius: 30px;
        cursor: pointer;
        font-weight: bold;
    }
    
    .cancel-button {
        background-color: #f44336;
        color: white;
        border: #046307;
        padding: 10px 20px;
        border-radius: 30px;
        cursor: pointer;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <div class="vip-badge">VIP</div>
        <h1>Premium Games <span class="premium-label">Gold</span></h1>
        <h2>Exclusive Access Required</h2>
        <p>Enter your VIP password to unlock premium content</p>
        <h3>UNLOCK PREMIUM GAMES</h3>

        <div id="expiration-container" class="expiration-container">
            <div class="success-message">VIP Access Active! 🏆</div>
            <div class="expiration-time">Your access expires in:</div>
            <div id="expiration-countdown" class="expiration-countdown"></div>
        </div>
        
        <div id="lockout-container" class="lockout-container">
            <div class="lockout-message">Too many incorrect attempts! ⚠️</div>
            <p>Please wait before trying again</p>
            <div id="lockout-countdown" class="lockout-countdown">20</div>
        </div>

        <div id="password-area" class="password-area">
            <input type="password" id="passwordInput" placeholder="Enter your VIP password">
            <span class="lock-icon">🔐</span>
            <div id="message" class="message"></div>
        </div>
        
        <div id="payment-container" class="payment-container">
            <h3>Get VIP Access</h3>
            <p>Choose a package that suits you</p>
             
            <div class="payment-options">
        <div class="payment-option" data-amount="100" onclick="selectAmount(100, this)">
            <h3>1 Day Access</h3>
            <div class="price-display">₦100</div>
        </div>
        
        <div class="payment-option" data-amount="500" onclick="selectAmount(500, this)">
            <h3>3 Days Access</h3>
            <div class="price-display">₦500</div>
        </div>
        
        <div class="payment-option selected" data-amount="2000" onclick="selectAmount(2000, this)">
            <h3>7 Days Access</h3>
            <div class="price-display">₦2,000</div>
        </div>
    </div>
    
    <div id="selected-amount-display" class="fee-info">
        Amount: ₦100
        <br>Paystack Fee: ₦0
        <br>Total: ₦100
    </div>
    
    <div class="form-group">
        <label for="emailInput">Email Address:</label>
        <input type="email" id="emailInput" placeholder="Enter your email" required>
    </div>
    
    <div class="button-group">
        <button onclick="payWithPaystack()" class="payment-button">Pay Now</button>
        <button onclick="cancelPayment()" class="cancel-button">Cancel</button>
    </div>
</div>

        <div id="buttons-container" class="buttons-container">
            <button id="access-button" onclick="checkPassword()">Access Now</button>
            <button class="btn-payment" onclick="showPaymentForm()">Get VIP Password</button>
            <button class="btn-exit" onclick="exitApp()">Return to Free Games</button>
        </div>
        
        <div id="countdown-container" class="countdown-container">
            <div class="success-message">VIP Access Granted! 🏆 Loading in:</div>
            <div id="countdown" class="countdown">5</div>
        </div>
    </div>

    <!-- Include Paystack JavaScript SDK -->
    <script src="https://js.paystack.co/v1/inline.js"></script>
    
    <script>
                              // Set your correct password here
const correctPassword = "MultiGames77+";
const targetPage = "file:///android_asset/htmlapp/root/comingsoon.html";
let countdownInterval;
let lockoutCountdownInterval;

// Store failed attempts and lockout info
let failedAttempts = 0;
const maxFailedAttempts = 3;
const lockoutDuration = 20; // in seconds

// Payment variables
let selectedAmount = 2000; // Default amount in Naira
const paystackPublicKey = "pk_live_11399ceb74b1fa794595e4334c143a64de020095";
// Paystack charges
const paystackChargePercentage = 1.5; // 1.5% charge
const paystackCapCharge = 2000; // Cap at ₦2,000
const paystackFlatFee = 10; // Extra ₦10 flat fee

// Check if user already has valid access or is locked out
document.addEventListener('DOMContentLoaded', function() {
    checkLockoutStatus();
    checkExistingAccess();
    updatePriceDisplay();
});

// Function to calculate Paystack charges
function calculatePaystackCharge(amount) {
    // Calculate the percentage-based charge (1.5%)
    let percentageCharge = (amount * paystackChargePercentage) / 100;
    
    // Apply the cap of ₦2,000 if necessary
    if (percentageCharge > paystackCapCharge) {
        percentageCharge = paystackCapCharge;
    }
    
    // Add the flat fee of ₦100
    const totalCharge = percentageCharge + paystackFlatFee;
    
    return totalCharge;
}

// Function to calculate total amount including charges
function calculateTotalAmount(amount) {
    const charge = calculatePaystackCharge(amount);
    return amount + charge;
}

// Function to update price display including charges
function updatePriceDisplay() {
    const options = document.querySelectorAll('.payment-option');
    options.forEach(option => {
        const baseAmount = parseInt(option.getAttribute('data-amount'));
        const charge = calculatePaystackCharge(baseAmount);
        const total = baseAmount + charge;
        
        // Update display text to include charges
        const priceDisplay = option.querySelector('.price-display');
        if (priceDisplay) {
            priceDisplay.innerHTML = `₦${baseAmount.toLocaleString()}<br><small>+₦${charge.toLocaleString()} fee = ₦${total.toLocaleString()}</small>`;
        }
    });
    
    // Update selected amount display if it exists
    const selectedAmountDisplay = document.getElementById('selected-amount-display');
    if (selectedAmountDisplay) {
        const charge = calculatePaystackCharge(selectedAmount);
        const total = selectedAmount + charge;
        selectedAmountDisplay.innerHTML = `Amount: ₦${selectedAmount.toLocaleString()}<br>Paystack Fee: ₦${charge.toLocaleString()}<br>Total: ₦${total.toLocaleString()}`;
    }
}

// Function to check if user is locked out
function checkLockoutStatus() {
    const lockoutEndTime = localStorage.getItem('lockoutEndTime');
    
    if (lockoutEndTime) {
        const currentTime = new Date().getTime();
        const lockoutEnd = parseInt(lockoutEndTime);
        
        if (currentTime < lockoutEnd) {
            // User is still locked out, show lockout screen
            showLockoutScreen(lockoutEnd);
        } else {
            // Lockout period has ended, reset lockout status
            resetLockout();
        }
    }
    
    // Retrieve failed attempts count from localStorage
    failedAttempts = parseInt(localStorage.getItem('failedAttempts') || '0');
}

// Function to reset lockout status
function resetLockout() {
    localStorage.removeItem('lockoutEndTime');
    localStorage.setItem('failedAttempts', '0');
    failedAttempts = 0;
    
    // Show password area
    document.getElementById('lockout-container').style.display = 'none';
    document.getElementById('password-area').style.display = 'block';
    document.getElementById('buttons-container').style.display = 'flex';
    
    // Enable password input and access button
    document.getElementById('passwordInput').disabled = false;
    document.getElementById('access-button').disabled = false;
}

// Function to show the lockout screen
function showLockoutScreen(lockoutEndTime) {
    const currentTime = new Date().getTime();
    const timeLeft = Math.ceil((lockoutEndTime - currentTime) / 1000);
    
    // Show lockout container, hide other elements
    document.getElementById('lockout-container').style.display = 'block';
    document.getElementById('password-area').style.display = 'none';
    document.getElementById('buttons-container').style.display = 'none';
    document.getElementById('countdown-container').style.display = 'none';
    document.getElementById('expiration-container').style.display = 'none';
    document.getElementById('payment-container').style.display = 'none';
    
    // Update countdown display
    document.getElementById('lockout-countdown').textContent = timeLeft;
    
    // Start countdown timer
    if (lockoutCountdownInterval) clearInterval(lockoutCountdownInterval);
    
    lockoutCountdownInterval = setInterval(() => {
        const currentTime = new Date().getTime();
        const secondsLeft = Math.ceil((lockoutEndTime - currentTime) / 1000);
        
        if (secondsLeft <= 0) {
            // Lockout period ended
            clearInterval(lockoutCountdownInterval);
            resetLockout();
        } else {
            // Update countdown display
            document.getElementById('lockout-countdown').textContent = secondsLeft;
        }
    }, 1000);
}

// Function to check if user already has valid access
function checkExistingAccess() {
    const storedPassword = localStorage.getItem('vipPassword');
    const expirationTime = localStorage.getItem('vipExpiration');
    
    if (storedPassword === correctPassword && expirationTime) {
        const currentTime = new Date().getTime();
        const expiration = parseInt(expirationTime);
        
        if (currentTime < expiration) {
            // Show expiration countdown
            displayExpirationCountdown(expiration);
            
            // Redirect to content after short delay
            setTimeout(() => {
                startLoadingCountdown();
            }, 2000);
        } else {
            // Access expired, reset storage
            localStorage.removeItem('vipPassword');
            localStorage.removeItem('vipExpiration');
        }
    }
}

// Display the expiration countdown
function displayExpirationCountdown(expirationTime) {
    const passwordArea = document.getElementById('password-area');
    const buttonsContainer = document.getElementById('buttons-container');
    const expirationContainer = document.getElementById('expiration-container');
    const paymentContainer = document.getElementById('payment-container');
    
    passwordArea.style.display = 'none';
    buttonsContainer.style.display = 'none';
    paymentContainer.style.display = 'none';
    expirationContainer.style.display = 'block';
    
    // Update countdown timer
    updateExpirationCountdown(expirationTime);
    
    // Update every second
    setInterval(() => {
        updateExpirationCountdown(expirationTime);
    }, 1000);
}

// Update the expiration countdown display
function updateExpirationCountdown(expirationTime) {
    const currentTime = new Date().getTime();
    const timeLeft = expirationTime - currentTime;
    
    if (timeLeft <= 0) {
        // Access expired
        localStorage.removeItem('vipPassword');
        localStorage.removeItem('vipExpiration');
        location.reload();
        return;
    }
    
    // Calculate days, hours, minutes, seconds
    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
    
    // Display countdown
    document.getElementById('expiration-countdown').textContent = 
        `${days}d ${hours}h ${minutes}m ${seconds}s`;
}

// Preload the target page
function preloadPage(url) {
    const iframe = document.createElement('iframe');
    iframe.style.display = 'none';
    iframe.src = url;
    document.body.appendChild(iframe);
}

// Function to start the loading countdown
function startLoadingCountdown() {
    // Show countdown
    document.getElementById('expiration-container').style.display = 'none';
    document.getElementById('buttons-container').style.display = 'none';
    document.getElementById('password-area').style.display = 'none';
    document.getElementById('payment-container').style.display = 'none';
    document.getElementById('countdown-container').style.display = 'block';
    
    // Preload the target page
    preloadPage(targetPage);
    
    // Start countdown
    let secondsLeft = 5;
    document.getElementById('countdown').textContent = secondsLeft;
    
    countdownInterval = setInterval(() => {
        secondsLeft--;
        document.getElementById('countdown').textContent = secondsLeft;
        
        if (secondsLeft <= 0) {
            clearInterval(countdownInterval);
            window.location.href = targetPage;
        }
    }, 1000);
}

// Function to start lockout countdown
function startLockout() {
    // Calculate lockout end time (current time + lockout duration in ms)
    const currentTime = new Date().getTime();
    const lockoutEndTime = currentTime + (lockoutDuration * 1000);
    
    // Store lockout end time in localStorage
    localStorage.setItem('lockoutEndTime', lockoutEndTime.toString());
    
    // Show lockout screen
    showLockoutScreen(lockoutEndTime);
}

// Function to check the password
function checkPassword() {
    const passwordInput = document.getElementById('passwordInput');
    const message = document.getElementById('message');
    
    // Check if user is currently locked out
    const lockoutEndTime = localStorage.getItem('lockoutEndTime');
    if (lockoutEndTime && new Date().getTime() < parseInt(lockoutEndTime)) {
        return; // User is locked out, don't allow password check
    }
    
    if (passwordInput.value === correctPassword) {
        // Reset failed attempts on successful login
        failedAttempts = 0;
        localStorage.setItem('failedAttempts', '0');
        
        // Save password and set expiration (3 days from now)
        const currentTime = new Date().getTime();
        const expirationTime = currentTime + (3 * 24 * 60 * 60 * 1000); // 3 days in milliseconds
        
        localStorage.setItem('vipPassword', correctPassword);
        localStorage.setItem('vipExpiration', expirationTime.toString());
        
        // Start loading countdown
        startLoadingCountdown();
    } else {
        // Increment failed attempts
        failedAttempts++;
        localStorage.setItem('failedAttempts', failedAttempts.toString());
        
        if (failedAttempts >= maxFailedAttempts) {
            // Too many failed attempts, start lockout
            startLockout();
        } else {
            // Show error message with attempts remaining
            const attemptsLeft = maxFailedAttempts - failedAttempts;
            message.textContent = `Incorrect password. ${attemptsLeft} attempt${attemptsLeft !== 1 ? 's' : ''} remaining.`;
            passwordInput.value = "";
        }
    }
}

// Function to show payment form
function showPaymentForm() {
    document.getElementById('password-area').style.display = 'none';
    document.getElementById('buttons-container').style.display = 'none';
    document.getElementById('payment-container').style.display = 'block';
    
    // Update price display
    updatePriceDisplay();
}

// Function to cancel payment and return to main screen
function cancelPayment() {
    document.getElementById('payment-container').style.display = 'none';
    document.getElementById('password-area').style.display = 'block';
    document.getElementById('buttons-container').style.display = 'flex';
}

// Function to select payment amount
function selectAmount(amount, element) {
    selectedAmount = amount;
    
    // Update UI - mark selected option
    const options = document.querySelectorAll('.payment-option');
    options.forEach(option => {
        option.classList.remove('selected');
    });
    
    element.classList.add('selected');
    
    // Update price display with charges
    updatePriceDisplay();
}

// Function to calculate expiration time based on amount
function getExpirationDays(amount) {
    if (amount === 100) return 1; // 1 day for ₦00
    if (amount === 500) return 3; // 3 days for ₦500
    if (amount === 2000) return 7; // 7 days for ₦2000
    
    // Default to 3 days
    return 3;
}

// Function to handle Paystack payment
function payWithPaystack() {
    const email = document.getElementById('emailInput').value;
    
    if (!email || !email.includes('@')) {
        alert('Please enter a valid email address');
        return;
    }
    
    // Calculate total amount with charges
    const totalAmount = calculateTotalAmount(selectedAmount);
    
    // Generate a reference
    const reference = 'VIPGAMES_' + Math.floor((Math.random() * 1000000000) + 1);
    
    let handler = PaystackPop.setup({
        key: paystackPublicKey,
        email: email,
        amount: totalAmount * 100, // Paystack amount is in kobo (includes charges)
        currency: 'NGN',
        ref: reference,
        metadata: {
            custom_fields: [
                {
                    display_name: "VIP Package",
                    variable_name: "vip_package",
                    value: `${getExpirationDays(selectedAmount)} Days Premium Access`
                },
                {
                    display_name: "Base Amount",
                    variable_name: "base_amount",
                    value: `₦${selectedAmount.toLocaleString()}`
                },
                {
                    display_name: "Paystack Fee",
                    variable_name: "paystack_fee",
                    value: `₦${calculatePaystackCharge(selectedAmount).toLocaleString()}`
                }
            ]
        },
        callback: function(response) {
            // Payment successful
            handleSuccessfulPayment(selectedAmount);
        },
        onClose: function() {
            // Payment window closed
            console.log('Payment window closed');
        }
    });
    
    handler.openIframe();
}

// Function to handle successful payment
function handleSuccessfulPayment(amount) {
    // Calculate expiration time based on payment amount
    const days = getExpirationDays(amount);
    const currentTime = new Date().getTime();
    const expirationTime = currentTime + (days * 24 * 60 * 60 * 1000);
    
    // Save password and expiration time
    localStorage.setItem('vipPassword', correctPassword);
    localStorage.setItem('vipExpiration', expirationTime.toString());
    
    // Show success message and start countdown
    startLoadingCountdown();
}

// Function to exit the app
function exitApp() {
    window.location.href = "file:///android_asset/htmlapp/root/index.html";
}

// Allow Enter key to submit password
document.getElementById('passwordInput').addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
        checkPassword();
    }
});

// Allow Enter key to submit email in payment form
document.getElementById('emailInput').addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
        payWithPaystack();
    }
});
    </script>
</body>
</html>
