
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login / Register</title>
     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5345992350931230"
     crossorigin="anonymous"></script>
    <style>
        body {
    font-family: Arial, sans-serif;
    background-color: #f0f7f0;
    margin: 20;
    padding: 12;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
.container {
    background-color: white;
    border-radius: 30px;
    box-shadow: 0 9px 15px rgba(0, 1, 0.8, 0.7);
    width: 100%;
    max-width: 260px;
    padding: 25px;
}
h2 {
    text-align: center;
    color: #2e7d32;
    margin-bottom: 20px;
}
.form-group {
    margin-bottom: 15px;
}
label {
    display: block;
    margin-bottom: 5px;
    color: #4c8c4a;
}
input {
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
    border: 3px solid #c8e6c9;
    border-radius: 20px;
    font-size: 16px;
}
input:focus {
    outline: none;
    border-color: #4caf50;
    box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
}
button {
    background-color: #4caf50;
    color: white;
    border: none;
    padding: 12px 0;
    width: 100%;
    border-radius: 30px;
    cursor: pointer;
    font-size: 16px;
    margin-top: 10px;
    transition: background-color 0.2s;
}
button:hover {
    background-color: #388e3c;
}
.google-button {
    background-color: white;
    color: #757575;
    border: 3px solid #c8e6c9;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}
.google-button:hover {
    background-color: #f5f5f5;
}
.google-icon {
    width: 18px;
    height: 18px;
}
.toggle {
    text-align: center;
    margin-top: 15px;
    color: #666;
}
.toggle a {
    color: #4caf50;
    text-decoration: none;
    cursor: pointer;
    font-weight: bold;
}
.toggle a:hover {
    text-decoration: underline;
}
.error {
    color: #f44336;
    text-align: center;
    margin-top: 10px;
    display: none;
    font-size: 14px;
}
.success {
    color: #4caf50;
    text-align: center;
    margin-top: 10px;
    font-weight: bold;
    display: none;
    font-size: 14px;
}
#loginForm, #registerForm, #forgotPasswordForm, #loadingScreen {
    display: none;
}
.active {
    display: block !important;
}
.divider {
    display: flex;
    align-items: center;
    text-align: center;
    margin: 20px 0;
}
.divider::before, .divider::after {
    content: '';
    flex: 1;
    border-bottom: 1px solid #c8e6c9;
}
.divider span {
    padding: 0 10px;
    color: #4c8c4a;
}
.loader {
    border: 5px solid #e8f5e9;
    border-top: 5px solid #4caf50;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin: 50px auto;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
#loadingScreen {
    text-align: center;
}
#loadingMessage {
    margin-top: 20px;
    color: #4c8c4a;
}
.forgot-password {
    text-align: right;
    margin-top: 5px;
}
.forgot-password a {
    color: #4caf50;
    text-decoration: none;
    font-size: 14px;
}
.forgot-password a:hover {
    text-decoration: underline;
}
.back-button {
    display: inline-block;
    margin-top: 15px;
    color: #666;
    text-decoration: none;
    font-size: 14px;
}
.back-button:hover {
    text-decoration: underline;
}
.alert {
    padding: 15px;
    margin-top: 20px;
    border-radius: 30px;
    display: none;
    text-align: center;
    font-weight: 500;
}
.alert-success {
    background-color: #d4edda;
    color: #155724;
    border: 3px solid #c3e6cb;
}
.alert-info {
    background-color: #d1ecf1;
    color: #0c5460;
    border: 3px solid #bee5eb;
}
    </style>
</head>
<body>
    <div class="container">
        <div id="alertMessage" class="alert"></div>
        
        <div id="loginForm">
            <h2>Login to Multi Games</h2>
            <div class="form-group">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" placeholder="Enter your email" required>
            </div>
            <div class="form-group">
                <label for="loginPassword">Password</label>
                <input type="password" id="loginPassword" placeholder="Enter your password" required>
                <div class="forgot-password">
                    <a id="showForgotPassword">Forgot Password?</a>
                </div>
            </div>
            <button id="loginButton">Login</button>
            <div class="success" id="loginSuccess"></div>
            <div class="error" id="loginError"></div>
            
            <div class="divider"><span>OR</span></div>
            
            <button id="googleLoginButton" class="google-button">
                <svg class="google-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                    <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                    <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                    <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                    <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
                    <path fill="none" d="M0 0h48v48H0z"/>
                </svg>
                Continue with Google
            </button>
            
            <div class="toggle">
                Don't have an account? <a id="showRegister">Register</a>
            </div>
        </div>

        <div id="registerForm">
            <h2>Register</h2>
            <div class="form-group">
                <label for="registerFullName">Full Name</label>
                <input type="text" id="registerFullName" placeholder="Enter your full name" required>
            </div>
            <div class="form-group">
                <label for="registerEmail">Email</label>
                <input type="email" id="registerEmail" placeholder="Enter your email" required>
            </div>
            <div class="form-group">
                <label for="registerPassword">Password</label>
                <input type="password" id="registerPassword" placeholder="Enter your password" required>
            </div>
            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
            </div>
            <button id="registerButton">Register</button>
            <div class="error" id="registerError"></div>
            <div class="success" id="registerSuccess"></div>
            
            <div class="divider"><span>OR</span></div>
            
            <button id="googleRegisterButton" class="google-button">
                <svg class="google-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                    <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                    <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                    <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                    <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
                    <path fill="none" d="M0 0h48v48H0z"/>
                </svg>
                Sign up with Google
            </button>
            
            <div class="toggle">
                Already have an account? <a id="showLogin">Login</a>
            </div>
        </div>

        <div id="forgotPasswordForm">
            <h2>Reset Password</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">
                Enter your email address and we'll send you a link to reset your password.
            </p>
            <div class="form-group">
                <label for="resetEmail">Email</label>
                <input type="email" id="resetEmail" placeholder="Enter your email" required>
            </div>
            <button id="resetPasswordButton">Send Reset Link</button>
            <div class="error" id="resetError"></div>
            <div class="success" id="resetSuccess"></div>
            
            <div style="text-align: center; margin-top: 20px;">
                <a id="backToLogin" class="back-button">‚Üê Back to Login</a>
            </div>
        </div>

        <div id="loadingScreen">
            <div class="loader"></div>
            <div id="loadingMessage">Loading...</div>
        </div>
    </div>

    <!-- Firebase SDK imports -->
<script type="module">
    // Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, GoogleAuthProvider, signInWithPopup, updateProfile, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore.js";

// Your web app's Firebase configuration
const firebaseConfig = {
    apiKey: "AIzaSyBw1uA-kNKOZEufWKZ9AMBxvRGHNGF1lkA",
    authDomain: "multi-games-a2561.firebaseapp.com",
    projectId: "multi-games-a2561",
    storageBucket: "multi-games-a2561.appspot.com",
    messagingSenderId: "150551898066",
    appId: "1:150551898066:web:4e8fb185f2321ba4140a0b",
    measurementId: "G-PB8Y87E6XV"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const auth = getAuth(app);
const db = getFirestore(app);
const googleProvider = new GoogleAuthProvider();

// Alert message function - Improved to be more visible
function showAlert(message, type) {
    const alertElement = document.getElementById("alertMessage");
    if (!alertElement) {
        console.error("Alert element not found!");
        return;
    }
    
    alertElement.textContent = message;
    alertElement.className = "alert";
    alertElement.classList.add(type === "success" ? "alert-success" : "alert-info");
    alertElement.style.display = "block";
    
    // Auto hide after 3 seconds
    setTimeout(() => {
        alertElement.style.display = "none";
    }, 3000);
}

// Function to show loading screen
function showLoading(message = "Processing...") {
    document.getElementById("loginForm").classList.remove("active");
    document.getElementById("registerForm").classList.remove("active");
    document.getElementById("forgotPasswordForm").classList.remove("active");
    document.getElementById("loadingScreen").classList.add("active");
    document.getElementById("loadingMessage").textContent = message;
}

// Function to hide loading screen
function hideLoading() {
    document.getElementById("loadingScreen").classList.remove("active");
}

// Function to show login form after registration with a success message
function showLoginAfterRegistration(message) {
    hideLoading();
    
    // Display success message
    const registerSuccessElement = document.getElementById("registerSuccess");
    registerSuccessElement.textContent = message;
    registerSuccessElement.style.display = "block";
    
    // Show global alert
    showAlert(message, "success");
    
    // Delay before switching to login form
    setTimeout(() => {
        // Hide register form and show login form
        document.getElementById("registerForm").classList.remove("active");
        document.getElementById("loginForm").classList.add("active");
        
        // Display success message in login form
        const loginSuccessElement = document.getElementById("loginSuccess");
        loginSuccessElement.textContent = "Registration successful! Please log in with your new account.";
        loginSuccessElement.style.display = "block";
    }, 1500);
}

// Check if user is already logged in
onAuthStateChanged(auth, (user) => {
    if (user) {
        // User is signed in, redirect directly to main page
        window.location.href = "index.html";
    } else {
        // No user is signed in, show login form by default
        document.getElementById("loginForm").classList.add("active");
    }
});

// Form toggle functionality
document.getElementById("showRegister").addEventListener("click", () => {
    document.getElementById("loginForm").classList.remove("active");
    document.getElementById("registerForm").classList.add("active");
    
    // Clear any previous error messages
    document.getElementById("loginError").textContent = "";
    document.getElementById("loginSuccess").textContent = "";
    document.getElementById("registerError").textContent = "";
    document.getElementById("registerSuccess").textContent = "";
});

document.getElementById("showLogin").addEventListener("click", () => {
    document.getElementById("registerForm").classList.remove("active");
    document.getElementById("loginForm").classList.add("active");
    
    // Clear any previous error messages
    document.getElementById("loginError").textContent = "";
    document.getElementById("loginSuccess").textContent = "";
    document.getElementById("registerError").textContent = "";
    document.getElementById("registerSuccess").textContent = "";
});

document.getElementById("showForgotPassword").addEventListener("click", () => {
    document.getElementById("loginForm").classList.remove("active");
    document.getElementById("forgotPasswordForm").classList.add("active");
    
    // Clear any previous error messages
    document.getElementById("resetError").textContent = "";
    document.getElementById("resetSuccess").textContent = "";
});

document.getElementById("backToLogin").addEventListener("click", () => {
    document.getElementById("forgotPasswordForm").classList.remove("active");
    document.getElementById("loginForm").classList.add("active");
    
    // Clear any previous error messages
    document.getElementById("resetError").textContent = "";
    document.getElementById("resetSuccess").textContent = "";
    document.getElementById("loginError").textContent = "";
    document.getElementById("loginSuccess").textContent = "";
});

// Save user data to Firestore
async function saveUserData(user, fullName = null) {
    try {
        // If full name is provided, update the user profile
        if (fullName) {
            await updateProfile(user, {
                displayName: fullName
            });
        }
        
        // Save user data to Firestore
        await setDoc(doc(db, "users", user.uid), {
            uid: user.uid,
            email: user.email,
            displayName: fullName || user.displayName || '',
            createdAt: new Date().toISOString(),
            lastLogin: new Date().toISOString()
        }, { merge: true });
        
        return true;
    } catch (error) {
        console.error("Error saving user data:", error);
        return false;
    }
}

// Register functionality
document.getElementById("registerButton").addEventListener("click", async () => {
    const fullName = document.getElementById("registerFullName").value;
    const email = document.getElementById("registerEmail").value;
    const password = document.getElementById("registerPassword").value;
    const confirmPassword = document.getElementById("confirmPassword").value;
    const errorElement = document.getElementById("registerError");
    const successElement = document.getElementById("registerSuccess");
    
    // Clear previous messages
    errorElement.textContent = "";
    errorElement.style.display = "none";
    successElement.textContent = "";
    successElement.style.display = "none";

    // Validate inputs
    if (!fullName || !email || !password || !confirmPassword) {
        errorElement.textContent = "All fields are required";
        errorElement.style.display = "block";
        return;
    }
    
    if (password !== confirmPassword) {
        errorElement.textContent = "Passwords do not match";
        errorElement.style.display = "block";
        return;
    }

    if (password.length < 6) {
        errorElement.textContent = "Password must be at least 6 characters";
        errorElement.style.display = "block";
        return;
    }

    // Show loading screen
    showLoading("Creating your account...");

    // Create user with Firebase
    try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        
        // Save user data to Firestore
        const saveResult = await saveUserData(userCredential.user, fullName);
        
        if (!saveResult) {
            throw new Error("Failed to save user data");
        }
        
        // Sign out user after registration so they can log in manually
        await auth.signOut();
        
        // Show success message and redirect to login form
        showLoginAfterRegistration("Registration successful! Please log in with your new account.");
        
    } catch (error) {
        // Hide loading
        hideLoading();
        
        console.error("Registration error:", error);
        
        // Handle errors
        switch (error.code) {
            case "auth/email-already-in-use":
                errorElement.textContent = "Email already in use. Please use a different email address.";
                break;
            case "auth/invalid-email":
                errorElement.textContent = "Invalid email address. Please check and try again.";
                break;
            case "auth/weak-password":
                errorElement.textContent = "Password is too weak. Please use a stronger password.";
                break;
            default:
                errorElement.textContent = error.message || "An unexpected error occurred. Please try again.";
        }
        
        errorElement.style.display = "block";
    }
});

// Login functionality
document.getElementById("loginButton").addEventListener("click", async () => {
    const email = document.getElementById("loginEmail").value;
    const password = document.getElementById("loginPassword").value;
    const errorElement = document.getElementById("loginError");
    const successElement = document.getElementById("loginSuccess");
    
    // Clear previous messages
    errorElement.textContent = "";
    errorElement.style.display = "none";
    successElement.textContent = "";
    successElement.style.display = "none";

    // Validate inputs
    if (!email || !password) {
        errorElement.textContent = "Email and password are required";
        errorElement.style.display = "block";
        return;
    }

    // Show loading screen
    showLoading("Logging you in...");

    // Sign in user with Firebase
    try {
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        
        // Update last login timestamp
        await setDoc(doc(db, "users", userCredential.user.uid), {
            lastLogin: new Date().toISOString()
        }, { merge: true });
        
        // Hide loading
        hideLoading();
        
        // Show success message with alert
        const welcomeMessage = "Welcome back! Login successful!";
        showAlert(welcomeMessage, "success");
        successElement.textContent = welcomeMessage;
        successElement.style.display = "block";
        
        // Redirect after short delay
        setTimeout(() => {
            window.location.href = "main.html";
        }, 1500);
        
    } catch (error) {
        // Hide loading
        hideLoading();
        
        console.error("Login error:", error);
        
        // Handle errors
        switch (error.code) {
            case "auth/invalid-credential":
            case "auth/invalid-email":
            case "auth/user-not-found":
            case "auth/wrong-password":
                errorElement.textContent = "Invalid email or password. Please try again.";
                break;
            case "auth/too-many-requests":
                errorElement.textContent = "Too many failed login attempts. Please try again later.";
                break;
            case "auth/user-disabled":
                errorElement.textContent = "This account has been disabled. Please contact support.";
                break;
            default:
                errorElement.textContent = error.message || "An unexpected error occurred. Please try again.";
        }
        
        errorElement.style.display = "block";
    }
});

// Google Sign In - Login
document.getElementById("googleLoginButton").addEventListener("click", async () => {
    const errorElement = document.getElementById("loginError");
    const successElement = document.getElementById("loginSuccess");
    
    errorElement.textContent = "";
    errorElement.style.display = "none";
    successElement.textContent = "";
    successElement.style.display = "none";
    
    // Show loading screen
    showLoading("Logging in with Google...");
    
    try {
        // Add scopes to Google provider
        googleProvider.addScope('profile');
        googleProvider.addScope('email');
        googleProvider.setCustomParameters({
            prompt: 'select_account'
        });
        
        const result = await signInWithPopup(auth, googleProvider);
        
        // Update last login timestamp
        await setDoc(doc(db, "users", result.user.uid), {
            uid: result.user.uid,
            email: result.user.email,
            displayName: result.user.displayName || '',
            createdAt: new Date().toISOString(),
            lastLogin: new Date().toISOString()
        }, { merge: true });
        
        // Hide loading
        hideLoading();
        
        // Show success message with alert
        const welcomeMessage = "Welcome back! Google login successful!";
        showAlert(welcomeMessage, "success");
        successElement.textContent = welcomeMessage;
        successElement.style.display = "block";
        
        // Redirect after short delay
        setTimeout(() => {
            window.location.href = "main.html";
        }, 1500);
        
    } catch (error) {
        // Hide loading
        hideLoading();
        
        console.error("Google login error:", error);
        
        // Handle specific errors
        if (error.code === 'auth/popup-closed-by-user') {
            errorElement.textContent = "Sign-in popup was closed before completing. Please try again.";
        } else if (error.code === 'auth/popup-blocked') {
            errorElement.textContent = "Popup was blocked. Please allow popups for this site.";
        } else if (error.code === 'auth/cancelled-popup-request') {
            errorElement.textContent = "Multiple popups were opened. Please try again.";
        } else if (error.code === 'auth/account-exists-with-different-credential') {
            errorElement.textContent = "An account already exists with the same email but different sign-in method.";
        } else {
            errorElement.textContent = error.message || "Error signing in with Google. Please try again.";
        }
        
        errorElement.style.display = "block";
    }
});

// Google Sign In - Register
document.getElementById("googleRegisterButton").addEventListener("click", async () => {
    const errorElement = document.getElementById("registerError");
    const successElement = document.getElementById("registerSuccess");
    
    errorElement.textContent = "";
    errorElement.style.display = "none";
    successElement.textContent = "";
    successElement.style.display = "none";
    
    // Show loading screen
    showLoading("Signing up with Google...");
    
    try {
        // Add scopes to Google provider
        googleProvider.addScope('profile');
        googleProvider.addScope('email');
        googleProvider.setCustomParameters({
            prompt: 'select_account'
        });
        
        const result = await signInWithPopup(auth, googleProvider);
        
        // Save user data to Firestore
        const saveResult = await saveUserData(result.user);
        
        if (!saveResult) {
            throw new Error("Failed to save user data");
        }
        
        // Hide loading
        hideLoading();
        
        // Show success message with alert
        const welcomeMessage = "Google sign-up successful! Welcome!";
        showAlert(welcomeMessage, "success");
        successElement.textContent = welcomeMessage;
        successElement.style.display = "block";
        
        // Redirect after short delay
        setTimeout(() => {
            window.location.href = "main.html";
        }, 1500);
        
    } catch (error) {
        // Hide loading
        hideLoading();
        
        console.error("Google signup error:", error);
        
        // Handle specific errors
        if (error.code === 'auth/popup-closed-by-user') {
            errorElement.textContent = "Sign-up popup was closed before completing. Please try again.";
        } else if (error.code === 'auth/popup-blocked') {
            errorElement.textContent = "Popup was blocked. Please allow popups for this site.";
        } else if (error.code === 'auth/account-exists-with-different-credential') {
            errorElement.textContent = "An account already exists with the same email but different sign-in method.";
        } else {
            errorElement.textContent = error.message || "Error signing up with Google. Please try again.";
        }
        
        errorElement.style.display = "block";
    }
});

// Password Reset functionality
document.getElementById("resetPasswordButton").addEventListener("click", async () => {
    const email = document.getElementById("resetEmail").value;
    const errorElement = document.getElementById("resetError");
    const successElement = document.getElementById("resetSuccess");
    
    // Clear previous messages
    errorElement.textContent = "";
    errorElement.style.display = "none";
    successElement.textContent = "";
    successElement.style.display = "none";

    // Validate input
    if (!email) {
        errorElement.textContent = "Email is required";
        errorElement.style.display = "block";
        return;
    }

    // Show loading screen
    showLoading("Sending password reset email...");

    try {
        await sendPasswordResetEmail(auth, email);
        
        // Hide loading
        hideLoading();
        
        // Show success message
        const resetMessage = "Password reset email sent! Please check your inbox.";
        showAlert(resetMessage, "info");
        successElement.textContent = resetMessage;
        successElement.style.display = "block";
        
        // Clear the input field
        document.getElementById("resetEmail").value = "";
        
        // After 3 seconds, return to login
        setTimeout(() => {
            document.getElementById("forgotPasswordForm").classList.remove("active");
            document.getElementById("loginForm").classList.add("active");
            
            // Clear the success message
            successElement.textContent = "";
            successElement.style.display = "none";
        }, 3000);
    } catch (error) {
        // Hide loading
        hideLoading();
        
        console.error("Password reset error:", error);
        
        // Handle errors
        switch (error.code) {
            case "auth/user-not-found":
                errorElement.textContent = "No account found with this email address.";
                break;
            case "auth/invalid-email":
                errorElement.textContent = "Invalid email address. Please check and try again.";
                break;
            case "auth/too-many-requests":
                errorElement.textContent = "Too many password reset attempts. Please try again later.";
                break;
            default:
                errorElement.textContent = error.message || "Error sending reset email. Please try again.";
        }
        
        errorElement.style.display = "block";
    }
});
</script>
</body>
</html>