<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> Multi Games</title>
<!-- Web App Meta Tags -->
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Multi Games">
  <meta name="application-name" content="Multi Games">
  <meta name="mobile-web-app-capable" content="yes">
  
  <!-- App Icons -->
  <link rel="icon" href="./assets/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon-16x16.png">
  <link rel="apple-touch-icon" href="./assets/icon-192.png">
  <link rel="manifest" href="manifest.json">
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Play multiple games in one convenient web app">
  <meta name="keywords" content="games, multi games, online games, web games">
  <meta name="author" content="Kelvin Agbe">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://multi-games-fawn.vercel.app/">
  <meta property="og:title" content="Multi Games">
  <meta property="og:description" content="Collection of fun games to play online and offline">
  <meta property="og:image" content="https://multi-games-fawn.vercel.app/og-image.jpg">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Multi Games">
  <meta name="twitter:description" content="Collection of fun games to play online">
  <meta name="twitter:image" content="twitter-image.jpg">

  <script async custom-element="amp-auto-ads"
    src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5345992350931230"
    crossorigin="anonymous"></script>
<script async src="https://fundingchoicesmessages.google.com/i/pub-5345992350931230?ers=1"></script><script>(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>
  <link rel="stylesheet" href="darkmode.css">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Multi Games",
  "url": "https://multi-games-fawn.vercel.app",
  "author": {
    "@type": "Person",
    "name": "Kelvin Agbe"
  },
  "description": "Play free fun games on Multi Games â€“ your favorite hub for endless gaming!",
  "inLanguage": "en"
}
</script>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PB8Y87E6XV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-PB8Y87E6XV');
</script>
<script
  src="https://speed.vercel.dev/script.js"
  data-sdkn="vercel"
  data-sdkv="1.0.0"
  defer
></script>
<style>
/* Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

:root {
  --primary-color: #0f5132; /* Darker green */
  --primary-dark: #073f24; /* Even darker green */
  --primary-light: #157347; /* Slightly lighter dark green */
  --secondary-color: #052e16; /* Dark forest green */
  --text-color: #333;
  --text-light: #666;
  --background-color: #f8f9fa; /* Slightly lighter background */
  --card-color: #fff;
  --shadow-color: rgba(0, 0, 0, 0.08); /* Softer shadow */
  --border-color: #e9ecef; /* Softer border */
  --border-radius-sm: 8px; /* New border radius values */
  --border-radius-md: 12px;
  --border-radius-lg: 16px;
  --transition: all 0.25s ease; /* Smoother transitions */
}

.dark-mode {
  --primary-color: #22c55e; /* Adjusted for dark mode */
  --primary-dark: #1a1c21;
  --primary-light: #20803c;
  --secondary-color: #052e16;
  --text-color: #e9ecef;
  --text-light: #adb5bd;
  --background-color: #1a1c21;
  --card-color: #25272e;
  --shadow-color: rgba(0, 0, 0, 0.3);
  --border-color: #2c2c2c;
}

body {
  background-color: var(--background-color);
  color: var(--text-color);
  transition: var(--transition);
  min-height: 100vh;
  overflow-x: hidden;
  padding-bottom: 60px;
  line-height: 1.5; /* Improved readability */
}

.container {
  padding: 15px;
  max-width: 100%;
  margin: 0 auto;
  padding-bottom: 70px;
}

/* Loader Styles */
.loader-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--background-color);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  transition: var(--transition);
  backdrop-filter: blur(5px); /* Modern blur effect */
}

.m-loader {
  width: 60px;
  height: 60px;
  background-color: var(--primary-color);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 30px;
  font-weight: bold;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.7;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Floating Search Bar */
.floating-search {
  position: sticky;
  top: 10px;
  left: 0;
  right: 0;
  width: 95%;
  margin: 0 auto;
  z-index: 100;
  padding: 10px 0;
  transition: var(--transition);
}

.search-bar {
  display: flex;
  align-items: center;
  background-color: var(--card-color);
  border-radius: var(--border-radius-lg);
  padding: 12px 18px; /* Larger padding */
  box-shadow: 0 4px 12px var(--shadow-color);
  border: 1px solid var(--border-color);
}

#search-icon {
  color: var(--primary-color);
  margin-right: 12px;
  font-size: 18px; /* Slightly larger icon */
}

#floating-search-input {
  flex: 1;
  border: none;
  outline: none;
  background-color: transparent;
  color: var(--text-color);
  font-size: 16px;
}

#floating-search-input::placeholder {
  color: var(--text-light);
}

.suggestions-container {
  background-color: var(--card-color);
  border-radius: var(--border-radius-md);
  margin-top: 10px;
  box-shadow: 0 6px 16px var(--shadow-color);
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.suggestions-container.show {
  max-height: 300px;
  overflow-y: auto;
}

.suggestion-item {
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  cursor: pointer;
  transition: var(--transition);
}

.suggestion-item:last-child {
  border-bottom: none;
}

.suggestion-item:hover {
  background-color: rgba(15, 81, 50, 0.1); /* Dark green with opacity */
}

.suggestion-item img {
  width: 45px; /* Slightly larger */
  height: 45px;
  border-radius: var(--border-radius-sm);
  margin-right: 14px;
  object-fit: cover;
}

.suggestion-item .suggestion-text {
  flex: 1;
}

.suggestion-item .suggestion-title {
  font-weight: 600; /* Bolder */
  margin-bottom: 3px;
}

.suggestion-item .suggestion-meta {
  font-size: 12px;
  color: var(--text-light);
}

/* Featured Game Styles */
.featured {
  position: relative;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  margin-bottom: 25px;
  box-shadow: 0 8px 20px var(--shadow-color);
}

.featured img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  transition: transform 0.5s ease; /* Zoom effect on hover */
}

.featured:hover img {
  transform: scale(1.05);
}

.featured-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.85));
  padding: 25px 18px; /* More padding */
  color: white;
}

.featured-overlay h3 {
  font-size: 22px;
  margin-bottom: 8px;
  font-weight: 700; /* Bolder */
}

.featured-overlay p {
  font-size: 14px;
  margin-bottom: 18px;
  opacity: 0.9;
}

.featured-btn {
  background-color: var(--primary-color);
  color: white;
  padding: 10px 22px; /* Larger button */
  border-radius: 24px;
  text-decoration: none;
  font-weight: 600;
  display: inline-block;
  transition: var(--transition);
}

.featured-btn:hover {
  background-color: var(--primary-dark);
  transform: translateY(-2px); /* Slight lift on hover */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Section Headers */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 28px 0 18px;
}

.section-header h2 {
  font-size: 19px;
  font-weight: 700;
  position: relative;
  padding-left: 12px;
}

.section-header h2::before {
  content: '';
  position: absolute;
  left: 0;
  top: 3px;
  height: 80%;
  width: 4px;
  background-color: var(--primary-color);
  border-radius: 2px;
}

.view-all {
  color: var(--primary-color);
  text-decoration: none;
  font-size: 14px;
  font-weight: 600;
  transition: var(--transition);
}

.view-all:hover {
  color: var(--primary-dark);
}

/* Categories Styles */
.categories {
  display: flex;
  overflow-x: auto;
  padding: 5px 0 15px;
  scrollbar-width: none;
  -ms-overflow-style: none;
  scroll-snap-type: x mandatory;
  gap: 15px; /* Added gap */
}

.categories::-webkit-scrollbar {
  display: none;
}

.category {
  min-width: 85px; /* Slightly wider */
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-right: 15px;
  scroll-snap-align: start;
  transition: var(--transition);
}

.category:hover {
  transform: translateY(-3px);
}

.category i {
  width: 65px;
  height: 65px;
  background-color: var(--primary-light);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 24px;
  margin-bottom: 8px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  transition: var(--transition);
}

.category:hover i {
  background-color: var(--primary-color);
}

.category p {
  font-size: 13px;
  font-weight: 600;
  text-align: center;
}

/* Game Grid Styles */
.game-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 18px; /* Larger gap */
  margin-bottom: 30px;
padding: 10px;
  max-width: 100%;
  margin: 0 auto;

}

.game-card {
  background-color: var(--card-color);
  border-radius: var(--border-radius-md);
  overflow: hidden;
  position: relative;
  box-shadow: 0 5px 15px var(--shadow-color);
  transition: var(--transition);
   max-width: 100%;
}

.game-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px var(--shadow-color);
}

.game-card img {
  width: 100%;
  height: 110px;
  object-fit: cover;
  transition: var(--transition);
}

.game-card:hover img {
  transform: scale(1.05);
}

.new-ribbon {
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: var(--primary-color);
  color: white;
  font-size: 11px;
  font-weight: bold;
  padding: 4px 10px;
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.game-info {
  padding: 14px; /* More padding */
}

.game-info p {
  font-weight: 600;
  margin-bottom: 8px;
  font-size: 15px; /* Slightly larger */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.game-meta {
  font-size: 12px;
  color: var(--text-light);
  margin-bottom: 12px;
}

.game-meta i {
  color: #FFD700;
}

.play-btn {
  background-color: var(--primary-color);
  color: white;
  padding: 8px 16px;
  border-radius: 18px;
  text-decoration: none;
  font-size: 13px;
  font-weight: 600;
  display: inline-block;
  transition: var(--transition);
}

.play-btn:hover {
  background-color: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
}

/* Bottom Navigation */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: var(--card-color);
  display: flex;
  justify-content: space-around;
  padding: 12px 0;
  box-shadow: 0 -2px 10px var(--shadow-color);
  z-index: 100;
  border-top: 1px solid var(--border-color);
}

.bottom-nav a {
  color: var(--text-light);
  text-decoration: none;
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 6px 0;
  transition: var(--transition);
  position: relative;
}

.bottom-nav a::after {
  content: '';
  position: absolute;
  bottom: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 3px;
  background-color: var(--primary-color);
  transition: var(--transition);
}

.bottom-nav a i {
  font-size: 22px;
  margin-bottom: 4px;
}

.bottom-nav a.active {
  color: var(--primary-color);
}

.bottom-nav a.active::after {
  width: 25px;
}

/* Page Content (Full Screen Pages) */
.page-content {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--background-color);
  z-index: 200;
  display: none;
  flex-direction: column;
}

.page-iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.back-button {
  position: absolute;
  top: 15px;
  left: 15px;
  width: 42px;
  height: 42px;
  background-color: var(--card-color);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 10px var(--shadow-color);
  z-index: 10;
  cursor: pointer;
  transition: var(--transition);
}

.back-button:hover {
  transform: scale(1.1);
}

.back-button i {
  color: var(--primary-color);
  font-size: 18px;
}

/* Adblock Message */
.adblock-message {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--card-color);
  box-shadow: 0 8px 20px var(--shadow-color);
  border-radius: var(--border-radius-md);
  padding: 18px 22px;
  width: 90%;
  max-width: 400px;
  z-index: 1000;
  border-left: 4px solid var(--primary-color);
  display: none;
  animation: slideDown 0.4s ease-out;
}

@keyframes slideDown {
  from {
    transform: translate(-50%, -20px);
    opacity: 0;
  }
  to {
    transform: translate(-50%, 0);
    opacity: 1;
  }
}

.adblock-message h3 {
  margin-bottom: 12px;
  color: var(--primary-color);
}

.adblock-message p {
  font-size: 14px;
  line-height: 1.6;
}

.close-button {
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
  font-size: 20px;
  color: var(--text-light);
  transition: var(--transition);
}

.close-button:hover {
  color: var(--primary-color);
}

/* Popup Container */
.popup-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
  backdrop-filter: blur(5px);
}

.popup {
  background-color: var(--card-color);
  border-radius: var(--border-radius-lg);
  width: 85%;
  max-width: 350px;
  padding: 30px 24px;
  position: relative;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
  transform: scale(0.95);
  transition: transform 0.3s;
}

.popup-container.active {
  opacity: 1;
  visibility: visible;
}

.popup-container.active .popup {
  transform: scale(1);
}

.popup-close {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 20px;
  color: var(--text-light);
  cursor: pointer;
  transition: var(--transition);
}

.popup-close:hover {
  color: var(--primary-color);
  transform: rotate(90deg);
}

.popup-title {
  font-size: 20px;
  margin-bottom: 15px;
  color: var(--primary-color);
  font-weight: 700;
}

.popup-content {
  font-size: 15px;
  line-height: 1.6;
  margin-bottom: 22px;
}

.popup-button {
  background-color: var(--primary-color);
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 24px;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
  transition: var(--transition);
}

.popup-button:hover {
  background-color: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

/* Dark Mode Toggle */
.dark-mod {
  position: fixed;
  top: 15px;
  right: 15px;
  width: 42px;
  height: 42px;
  background-color: var(--card-color);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 10px var(--shadow-color);
  z-index: 100;
  cursor: pointer;
  transition: var(--transition);
}

.dark-mode-toggle:hover {
  transform: scale(1.1);
}

.dark-mode-toggle i {
  color: var(--text-color);
  font-size: 18px;
}

/* Media Queries */
@media (min-width: 768px) {
  .container {
    max-width: 720px;
  }
  
  .featured img {
    height: 250px;
  }
  
  .game-grid {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  }
}

@media (max-width: 480px) {
  .game-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .featured-overlay h3 {
    font-size: 18px;
  }
}

/* Animation Keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Apply animations */
.main-content {
  animation: fadeIn 0.5s ease-out;
}

.featured {
  animation: slideUp 0.6s ease-out;
}

.section-header {
  animation: slideUp 0.7s ease-out;
}

.categories {
  animation: slideUp 0.8s ease-out;
}

.game-grid {
  animation: slideUp 0.9s ease-out;
}

/* Staggered game card animations */
.game-card {
  opacity: 0;
  animation: fadeIn 0.5s ease-out forwards;
}

.game-card:nth-child(1) { animation-delay: 0.1s; }
.game-card:nth-child(2) { animation-delay: 0.2s; }
.game-card:nth-child(3) { animation-delay: 0.3s; }
.game-card:nth-child(4) { animation-delay: 0.4s; }
.game-card:nth-child(5) { animation-delay: 0.5s; }
.game-card:nth-child(6) { animation-delay: 0.6s; }

/* PWA Styles */
@media (display-mode: standalone) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: calc(60px + env(safe-area-inset-bottom));
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  .bottom-nav {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
</style>
</head>
<body>


 <!-- Install App Banner -->
<div id="installBanner" style="display: none; position: fixed; top: 0; left: 0; width: 100%; background-color: #0f5132; color: white; padding: 10px 20px; z-index: 1000; box-shadow: 0 2px 6px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: space-between; font-family: sans-serif;">
<div style="display: flex; align-items: center;">
 <img src="./assets/favicon-32x32.png" alt="App Logo" style="width: 40px; height: 40px; border-radius: 8px; margin-right: 10px;">
  <div>
   <div style="font-size: 16px; font-weight: bold;">Multi Games</div>
   <div style="font-size: 12px;">Install this app for a better experience</div>
  </div>
 </div>
<button id="installButton" style="background-color: white; color: #0f5132; border: none; padding: 8px 16px; border-radius: 20px; font-weight: bold; cursor: pointer;">Install</button>
</div>

  <div id="adblockMessage" class="adblock-message">
        <span class="close-button" onclick="closeAdBlockMessage()">&times;</span>
        <h3>Ad Blocker Detected</h3>
        <p>We've noticed you're using an ad blocker. While we respect your choice, we rely on advertising revenue to keep our content free and accessible to everyone. Please consider whitelisting our website to support us!</p>
  </div>
  
     <div class="popup-container" id="popupContainer">
        <!-- Popups will be inserted here by JavaScript -->
    </div>

  <amp-auto-ads type="adsense"
      data-ad-client="ca-pub-5345992350931230">
  </amp-auto-ads>

  <!-- UPDATED: Loader with Circle -->
  <div class="loader-container" id="loader">
      <div class="m-loader">M</div>
  </div>


<!-- Updated HTML without a search button -->
<div class="floating-search" id="floating-search">
    <div class="search-bar">
        <i class="fas fa-search" id="search-icon"></i>
        <input 
            type="text" 
            id="floating-search-input" 
            placeholder="Search games..." 
        >
    </div>
    <div id="floating-suggestions" class="suggestions-container"></div>
</div>

  <!-- Main Content Container -->
  <div class="container main-content" id="main-content">
      <!-- Featured Game -->
      <div class="featured">
          <img src="https://i.postimg.cc/zfv3jnNr/truth.jpg" alt="Featured Game">
          <div class="featured-overlay">
              <h3>Truth or Dare</h3>
              <p>Challenge your friends with the ultimate party game!</p>
              <a href="truth.html" class="featured-btn">Play Now</a>
          </div>
      </div>
      
      <!-- Categories Horizontal Scroll -->
      <div class="section-header">
          <h2>Categories</h2>
          <a href="#" class="view-all" id="view-all-categories">View All</a>
      </div>
      <div class="categories">
          <div class="category">
              <i class="fas fa-gamepad"></i>
              <p>Arcade</p>
          </div>
          <div class="category">
              <i class="fas fa-brain"></i>
              <p>Puzzle</p>
          </div>
          <div class="category">
              <i class="fas fa-running"></i>
              <p>Action</p>
          </div>
          <div class="category">
              <i class="fas fa-users"></i>
              <p>Multiplayer</p>
          </div>
          <div class="category">
              <i class="fas fa-dice"></i>
              <p>Card Games</p>
          </div>
          <div class="category">
              <i class="fas fa-trophy"></i>
              <p>Sports</p>
          </div>
      </div>



           <!-- Popular Games -->
        <div class="section-header">
            <h2>Popular Games</h2>
            <a href="popular.html" class="view-all">View All</a>
        </div>
        <div class="game-grid">
            <div class="game-card">
                <div style="position: relative;">
                    <img src="https://i.postimg.cc/hvXFjbH2/memory.jpg" alt="Memory Card">
                    <div class="new-ribbon">NEW</div>
                </div>
                <div class="game-info">
                    <p>Games james</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.8
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 10k+</span>
                    </div>
                    <a href="./games/memory.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
            <div class="game-card">
                <img src="https://i.postimg.cc/tJtT7bVC/IMG-20250226-WA0077.jpg" alt="Whack Mole">
                  <div class="new-ribbon">NEW</div>
                <div class="game-info">
                    <p>Whack Mole</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.5
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 8k+</span>
                    </div>
                    <a href="games/whack.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
            <div class="game-card">
                <img src="https://i.postimg.cc/CL3qTdQn/images-12.jpg" alt="Tic Tac Toe">
       <div class="game-info">
                    <p>Tic Tac Toe</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.7
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 15k+</span>
                    </div>
                    <a href="./games/tic-tac-toe.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
            <div class="game-card">
                <img src="https://i.postimg.cc/zfv3jnNr/truth.jpg" alt="Truth or Dare">
                <div class="game-info">
                    <p>Truth or Dare</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.9
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 20k+</span>
                    </div>
                    <a href="./games/truth.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
        </div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5345992350931230"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-fb+5w+4e-db+86"
     data-ad-client="ca-pub-5345992350931230"
     data-ad-slot="1925101979"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
        
        <!-- New Releases -->
        <div class="section-header">
            <h2>New Releases</h2>
            <a href="new.html" class="view-all">View All</a>
        </div>
        <div class="game-grid">
            <div class="game-card">
                <img src="https://i.postimg.cc/xC0Pd8QM/Screenshot-20250316-221515.jpg" alt="Snake Game">
                <div class="game-info">
                    <p>Bubble Shoot</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.3
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 5k+</span>
                    </div>
                    <a href="./games/iframe-bubble.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
            <div class="game-card">
                <img src="https://i.postimg.cc/HLjWry4C/icon.webp" alt="Puzzle Rush">
                <div class="game-info">
                    <p>Macthman Warrior</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.6
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 3k+</span>
                    </div>
                    <a href="./games/iframe-warrior.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
      <div class="game-card">
                <img src="https://www.play1024.com/cy/icon/Moto_X3M_Christmas.png" alt="Moto X3M">
                <div class="game-info">
                    <p>Moto X3M Christmas</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.6
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 6k+</span>
                    </div>
                    <a href="./games/iframe-moto-X3M.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
 <div class="game-card">
                <img src="https://www.afantaigame.com/Ludo_Legend/180x180.png" alt="Ludo legend">
                <div class="game-info">
                    <p>Ludo Legend</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.6
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 6k+</span>
                    </div>
                    <a href="./games/iframe-ludo-legend.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
  <div class="game-card">
                <img src="https://i.postimg.cc/qvKCPhMn/Screenshot-20250401-122939.jpg" alt="Bike Rush 3D">
                <div class="game-info">
                    <p>Bike Rush 3D</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.6
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 6k+</span>
                    </div>
                    <a href="./games/iframe-bike-rush.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
 <div class="game-card">
                <img src="https://ali.iningame.com/cy/sdk/icon/Boat_Race.png" alt="Boat race">
                <div class="game-info">
                    <p>Boat Race</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.6
                        <span style="margin-left: 10px;"><i class="fas fa-user"></i> 6k+</span>
                    </div>
                    <a href="./games/iframe-boat-race.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
        </div>
    </div>

    
  <!-- Categories Page Content (Full Screen) -->
  <div class="page-content" id="categories-content">
    <div class="back-button" id="categories-back"><i class="fas fa-chevron-left"></i></div>
    <iframe src="nav/categories/categories.html" id="categories-iframe" class="page-iframe"></iframe>
  </div>
 
    <!-- Trending Section -->
    <div class="container" id="trending-content">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5345992350931230"
            crossorigin="anonymous"></script>
        <!-- In-feed ads -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-5345992350931230"
            data-ad-slot="8886337393"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

        <!-- Popular Games -->
        <div class="section-header">
            <h2>Popular Games</h2>
        </div>
        <div class="game-grid">
            <div class="game-card">
                <div class="game-image-container">
                    <img src="https://i.postimg.cc/MTbmT5k9/Halloween-Icon-Logo-Subway-Surfers-purple.jpg" alt="Subway">
                    <div class="new-ribbon">NEW</div>
                </div>
                <div class="game-info">
                    <p>Subway Surfers Halloween</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.8
                        <span style="margin-left: 5px;"><i class="fas fa-user"></i> 10k+</span>
                    </div>
                    <a href="/games/iframe-subway.html" class="play-btn game-link">Play Now</a>
                </div>
            </div>
            <div class="game-card">
                <div class="game-image-container">
                    <img src="https://www.nmgtianshugame.com/Pubg_Mobile_Online/bg.jpg" alt="Whack Mole">
                </div>
                <div class="game-info">
                    <p>Pubg  Mobile</p>
                    <div class="game-meta">
                        <i class="fas fa-star"></i> 4.5
                        <span style="margin-left: 5px;"><i class="fas fa-user"></i> 8k+</span>
                    </div>
                    <a href="./games/iframe-pubg.html" class="play-btn game-link">Play Now</a>
                </div>
          </div>
       </div>
</div>

<!-- Additional Game Categories Section -->
<div class="section-header">
</div>
<div class="game-grid">
    <div class="game-card">
        <img src="https://i.postimg.cc/9QJf4Lzw/racing-game.jpg" alt="Speed Racers">
        <div class="new-ribbon">HOT</div>
        <div class="game-info">
            <p>Speed Racers</p>
            <div class="game-meta">
                <i class="fas fa-star"></i> 4.7
                <span style="margin-left: 10px;"><i class="fas fa-user"></i> 12k+</span>
            </div>
            <a href="./games/iframe-speed-racers.html" class="play-btn game-link">Play Now</a>
        </div>
    </div>
    <div class="game-card">
        <img src="https://i.postimg.cc/vZ2rFB3V/zombie-shooter.jpg" alt="Zombie Shooter">
        <div class="game-info">
            <p>Zombie Shooter</p>
            <div class="game-meta">
                <i class="fas fa-star"></i> 4.5
                <span style="margin-left: 10px;"><i class="fas fa-user"></i> 9k+</span>
            </div>
            <a href="./games/iframe-zombie-shooter.html" class="play-btn game-link">Play Now</a>
        </div>
    </div>
    <div class="game-card">
        <img src="https://i.postimg.cc/9MgLJQXs/ninja-run.jpg" alt="Ninja Run">
        <div class="game-info">
            <p>Ninja Run</p>
            <div class="game-meta">
                <i class="fas fa-star"></i> 4.6
                <span style="margin-left: 10px;"><i class="fas fa-user"></i> 7k+</span>
            </div>
            <a href="./games/iframe-ninja-run.html" class="play-btn game-link">Play Now</a>
        </div>
    </div>
    <div class="game-card">
        <img src="https://i.postimg.cc/HxqNvTdY/space-invaders.jpg" alt="Space Blaster">
        <div class="game-info">
            <p>Space Blaster</p>
            <div class="game-meta">
                <i class="fas fa-star"></i> 4.4
                <span style="margin-left: 10px;"><i class="fas fa-user"></i> 5k+</span>
            </div>
            <a href="./games/iframe-space-blaster.html" class="play-btn game-link">Play Now</a>
        </div>
    </div>
</div>

  
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5345992350931230"
            crossorigin="anonymous"></script>
        <!-- In-feed ads -->
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-5345992350931230"
            data-ad-slot="8886337393"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

  <!-- earn Page Content (Full Screen) -->
  <div class="page-content" id="earn-content">
    <div class="back-button" id="earn-back"><i class="fas fa-chevron-left"></i></div>
    <iframe src="nav/earn.html" id="earn-iframe" class="page-iframe"></iframe>
  </div>

  <!-- Profile Page Content (Full Screen) -->
  <div class="page-content" id="profile-content">
    <div class="back-button" id="profile-back"><i class="fas fa-chevron-left"></i></div>
    <iframe src="nav/profile.html" id="profile-iframe" class="page-iframe"></iframe>
  </div>

    <!-- NEW: Page Content for Notifications (Full Screen) -->
    <div class="page-content" id="notification-content">
        <iframe src="about:blank" id="notification-iframe" class="page-iframe"></iframe>
    </div>

  <!-- Bottom Navigation (Reduced Size) -->
  <div class="bottom-nav">
      <a href="#" id="home-nav" class="active"><i class="fas fa-home"></i> Home</a>
      <a href="#" id="categories-nav"><i class="fas fa-th"></i> Categories</a>
      <a href="#" id="trending-nav"><i class="fas fa-fire"></i> Trending</a>
      <a href="#" id="earn-nav"><i class="fas fa-sack-dollar"></i> Earn</a>
      <a href="#" id="profile-nav"><i class="fas fa-user"></i> Profile</a>
  </div>

<!-- dark mode script -->
<script src="darkmode.js"></script>
      
    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <!-- JavaScript for Loader, Navigation, and Floating Search Bar Visibility -->
  <script>
   // Initialize Global Variables
let gamesData = [];
let searchTimeout;
const loaderDelay = 1500; // Loader delay in ms
let deferredPrompt;

// Set "visited before" flag 
localStorage.setItem("visitedBefore", "true");

// DOM Content Loaded Event
document.addEventListener("DOMContentLoaded", function() {
    // Hide loader after delay
    setTimeout(() => {
        document.getElementById('loader').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('loader').style.display = 'none';
        }, 500);
    }, loaderDelay);
    
    // Add CSS for iframe loaders
    addIframeLoaderStyles();

    // Initialize search functionality
    initSearch();
    
    // Initialize navigation
    initNavigation();
    
    // Initialize dark mode
    initDarkMode();
    
    // Initialize real ad block detection
    detectAdBlockReal();
    
    // Show welcome popup for new users
    checkForFirstVisit();
    
    // Lazy load images
    lazyLoadImages();
    
    // Initialize install button if it exists
    initPWAInstall();
});


// Initialize Search Functionality
function initSearch() {
    const searchInput = document.getElementById('floating-search-input');
    const suggestionsContainer = document.getElementById('floating-suggestions');
    
    // Fetch games data (mocked here, should be replaced with actual data)
    fetchGamesData();
    
    searchInput.addEventListener('focus', function() {
        document.getElementById('floating-search').style.width = '95%';
    });
    
    searchInput.addEventListener('input', function() {
        clearTimeout(searchTimeout);
        const query = this.value.trim();
        
        if (query.length > 0) {
            searchTimeout = setTimeout(() => {
                searchGames(query);
            }, 300);
        } else {
            suggestionsContainer.innerHTML = '';
            suggestionsContainer.classList.remove('show');
        }
    });
    
    // Close search when clicking outside
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.floating-search')) {
            suggestionsContainer.classList.remove('show');
        }
    });
}

// Fetch Games Data
function fetchGamesData() {
    // This would normally be an API call - for now we'll use data from the HTML
    const gameCards = document.querySelectorAll('.game-card');
    gameCards.forEach(card => {
        const img = card.querySelector('img');
        const title = card.querySelector('.game-info p').textContent;
        const rating = card.querySelector('.game-meta i').nextSibling.textContent.trim();
        const link = card.querySelector('.play-btn').getAttribute('href');
        
        gamesData.push({
            title: title,
            image: img.src,
            rating: rating,
            link: link
        });
    });
}

// Search Games
function searchGames(query) {
    const suggestionsContainer = document.getElementById('floating-suggestions');
    suggestionsContainer.innerHTML = '';
    
    const filteredGames = gamesData.filter(game => 
        game.title.toLowerCase().includes(query.toLowerCase())
    );
    
    if (filteredGames.length > 0) {
        filteredGames.forEach(game => {
            const suggestionItem = document.createElement('div');
            suggestionItem.className = 'suggestion-item';
            suggestionItem.innerHTML = `
                <img src="${game.image}" alt="${game.title}">
                <div class="suggestion-text">
                    <div class="suggestion-title">${game.title}</div>
                    <div class="suggestion-meta">Rating: ${game.rating}</div>
                </div>
            `;
            
            suggestionItem.addEventListener('click', () => {
                window.location.href = game.link;
            });
            
            suggestionsContainer.appendChild(suggestionItem);
        });
        
        suggestionsContainer.classList.add('show');
    } else {
        const noResults = document.createElement('div');
        noResults.className = 'suggestion-item';
        noResults.innerHTML = `
            <div class="suggestion-text">
                <div class="suggestion-title">No games found</div>
            </div>
        `;
        suggestionsContainer.appendChild(noResults);
        suggestionsContainer.classList.add('show');
    }
}

// Initialize Navigation
function initNavigation() {
    // Home Navigation
    document.getElementById('home-nav').addEventListener('click', function(e) {
        e.preventDefault();
        showMainContent();
    });
    
    // Categories Navigation
    document.getElementById('categories-nav').addEventListener('click', function(e) {
        e.preventDefault();
        const categoriesContent = document.getElementById('categories-content');
        categoriesContent.style.display = 'flex';
        
        // Show iframe loader
        showIframeLoader(categoriesContent);
        
        const categoriesIframe = document.getElementById('categories-iframe');
        categoriesIframe.style.opacity = '0'; // Hide iframe initially
        categoriesIframe.src = 'nav/categories/categories.html';
        
        // Handle iframe load completion
        categoriesIframe.onload = function() {
            hideIframeLoader(categoriesContent);
            categoriesIframe.style.opacity = '1'; // Show iframe with fade effect
            
            // Apply slide-in animation
            categoriesIframe.style.transform = 'translateX(-100%)';
            setTimeout(() => {
                categoriesIframe.style.transition = 'transform 0.5s ease-out';
                categoriesIframe.style.transform = 'translateX(0)';
            }, 50);
        };
        
        // Keep navigation bar visible
        document.querySelector('.bottom-nav').style.display = 'flex';
        updateActiveNav('categories-nav');
    });
    
    document.getElementById('categories-back').addEventListener('click', function() {
        const iframe = document.getElementById('categories-iframe');
        // Slide out animation
        iframe.style.transition = 'transform 0.5s ease-in';
        iframe.style.transform = 'translateX(100%)';
        
        setTimeout(() => {
            document.getElementById('categories-content').style.display = 'none';
            showMainContent(); // Reset to main content when back button is pressed
        }, 500);
    });
    
    // View All Categories
    document.getElementById('view-all-categories').addEventListener('click', function(e) {
        e.preventDefault();
        const categoriesContent = document.getElementById('categories-content');
        categoriesContent.style.display = 'flex';
        
        // Show iframe loader
        showIframeLoader(categoriesContent);
        
        const categoriesIframe = document.getElementById('categories-iframe');
        categoriesIframe.style.opacity = '0'; // Hide iframe initially
        categoriesIframe.src = 'nav/categories/categories.html';
        
        // Handle iframe load completion
        categoriesIframe.onload = function() {
            hideIframeLoader(categoriesContent);
            categoriesIframe.style.opacity = '1'; // Show iframe with fade effect
            
            // Apply slide-in animation
            categoriesIframe.style.transform = 'translateX(-100%)';
            setTimeout(() => {
                categoriesIframe.style.transition = 'transform 0.5s ease-out';
                categoriesIframe.style.transform = 'translateX(0)';
            }, 50);
        };
        
        // Keep navigation bar visible
        document.querySelector('.bottom-nav').style.display = 'flex';
        updateActiveNav('categories-nav');
    });
    
    // Trending Navigation
    document.getElementById('trending-nav').addEventListener('click', function(e) {
        e.preventDefault();
        document.querySelectorAll('.container').forEach(container => {
            container.style.display = 'none';
        });
        document.getElementById('trending-content').style.display = 'block';
        updateActiveNav('trending-nav');
        
        // Ensure navigation bar is visible
        document.querySelector('.bottom-nav').style.display = 'flex';
    });
    
    // Earn Navigation
    document.getElementById('earn-nav').addEventListener('click', function(e) {
        e.preventDefault();
        const earnContent = document.getElementById('earn-content');
        earnContent.style.display = 'flex';
        
        // Show iframe loader
        showIframeLoader(earnContent);
        
        const earnIframe = document.getElementById('earn-iframe');
        earnIframe.style.opacity = '0'; // Hide iframe initially
        earnIframe.src = 'nav/earn.html';
        
        // Handle iframe load completion
        earnIframe.onload = function() {
            hideIframeLoader(earnContent);
            earnIframe.style.opacity = '1'; // Show iframe with fade effect
            
            // Apply slide-in animation
            earnIframe.style.transform = 'translateX(-100%)';
            setTimeout(() => {
                earnIframe.style.transition = 'transform 0.5s ease-out';
                earnIframe.style.transform = 'translateX(0)';
            }, 50);
        };
        
        // Ensure navigation bar is visible
        document.querySelector('.bottom-nav').style.display = 'flex';
        updateActiveNav('earn-nav');
    });
    
    document.getElementById('earn-back').addEventListener('click', function() {
        if (this.parentElement) {
            const iframe = document.getElementById('earn-iframe');
            // Slide out animation
            iframe.style.transition = 'transform 0.5s ease-in';
            iframe.style.transform = 'translateX(100%)';
            
            setTimeout(() => {
                document.getElementById('earn-content').style.display = 'none';
                showMainContent(); // Reset to main content when back button is pressed
            }, 500);
        }
    });
    
    // Profile Navigation
    document.getElementById('profile-nav').addEventListener('click', function(e) {
        e.preventDefault();
        // Hide all containers first
        document.querySelectorAll('.container').forEach(container => {
            container.style.display = 'none';
        });
        
        const profileContent = document.getElementById('profile-content');
        profileContent.style.display = 'flex';
        
        // Show iframe loader
        showIframeLoader(profileContent);
        
        const profileIframe = document.getElementById('profile-iframe');
        profileIframe.style.opacity = '0'; // Hide iframe initially
        profileIframe.src = 'nav/profile.html';
        
        // Handle iframe load completion
        profileIframe.onload = function() {
            hideIframeLoader(profileContent);
            profileIframe.style.opacity = '1'; // Show iframe with fade effect
            
            // Apply slide-in animation
            profileIframe.style.transform = 'translateX(-100%)';
            setTimeout(() => {
                profileIframe.style.transition = 'transform 0.5s ease-out';
                profileIframe.style.transform = 'translateX(0)';
            }, 50);
        };
        
        // Keep navigation bar visible
        document.querySelector('.bottom-nav').style.display = 'flex';
        updateActiveNav('profile-nav');
    });
    
    document.getElementById('profile-back').addEventListener('click', function() {
        const iframe = document.getElementById('profile-iframe');
        // Slide out animation
        iframe.style.transition = 'transform 0.5s ease-in';
        iframe.style.transform = 'translateX(100%)';
        
        setTimeout(() => {
            document.getElementById('profile-content').style.display = 'none';
            showMainContent(); // Reset to main content when back button is pressed
        }, 500);
    });
}

// Show Main Content
function showMainContent() {
    document.querySelectorAll('.container').forEach(container => {
        container.style.display = 'none';
    });
    document.getElementById('main-content').style.display = 'block';
    // Ensure navigation bar is visible
    document.querySelector('.bottom-nav').style.display = 'flex';
    updateActiveNav('home-nav');
}

// Update Active Navigation
function updateActiveNav(activeId) {
    document.querySelectorAll('.bottom-nav a').forEach(item => {
        item.classList.remove('active');
    });
    document.getElementById(activeId).classList.add('active');
}

// Initialize Dark Mode
function initDarkMode() {
    // Create dark mode toggle button
    const darkModeToggle = document.createElement('div');
    darkModeToggle.className = 'dark-mode-toggle';
 
    document.body.appendChild(darkModeToggle);
    
    // Check for saved theme preference
    const isDarkMode = localStorage.getItem('darkMode') === 'true';
    
    // Apply saved preference
    if (isDarkMode) {
        document.body.classList.add('dark-mode');
    }
    
    // Toggle dark mode on click
    darkModeToggle.addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDark);
    });
}

// Real Ad Blocker Detection
function detectAdBlockReal() {
    // Create a test ad element
    const testAd = document.createElement('div');
    testAd.className = 'ads ad adsbox doubleclick ad-placement carbon-ads';
    testAd.innerHTML = '&nbsp;';
    testAd.style.position = 'absolute';
    testAd.style.top = '-999px';
    testAd.style.left = '-999px';
    testAd.style.height = '1px';
    testAd.style.width = '1px';
    
    document.body.appendChild(testAd);
    
    // Check if the ad element is hidden (ad blocker active)
    setTimeout(() => {
        // If the element's height is 0, ad blocker is active
        const isAdBlocked = testAd.offsetHeight === 0 || 
                           window.getComputedStyle(testAd).display === 'none' || 
                           !document.body.contains(testAd);
        
        if (isAdBlocked) {
            // Show ad block message
            document.getElementById('adblockMessage').style.display = 'block';
            console.log('Ad blocker detected');
        } else {
            console.log('No ad blocker detected');
        }
        
        // Remove the test element
        if (document.body.contains(testAd)) {
            document.body.removeChild(testAd);
        }
    }, 100);
    
    // Alternative method using a fake ad request
    const testScript = document.createElement('script');
    testScript.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
    testScript.onerror = function() {
        // Show ad block message if script failed to load
        document.getElementById('adblockMessage').style.display = 'block';
        console.log('Ad blocker detected (script method)');
    };
    document.body.appendChild(testScript);
}

// Close Ad Block Message
function closeAdBlockMessage() {
    document.getElementById('adblockMessage').style.display = 'none';
}

// Check for First Visit
function checkForFirstVisit() {
    const isFirstVisit = localStorage.getItem('firstVisit') !== 'false';
    
    if (isFirstVisit) {
        showWelcomePopup();
        localStorage.setItem('firstVisit', 'false');
    }
}

// Show Welcome Popup
function showWelcomePopup() {
    const popupContainer = document.getElementById('popupContainer');
    
    const popup = document.createElement('div');
    popup.className = 'popup';
    popup.innerHTML = `
        <div class="popup-close">&times;</div>
        <h3 class="popup-title">Welcome to Multi Games!</h3>
        <div class="popup-content">
            <p>Thanks for downloading our app! Get ready to play the best mobile games for free.</p>
            <p>Explore our categories, play trending games, and have fun!</p>
        </div>
        <button class="popup-button">Start Playing</button>
    `;
    
    popupContainer.appendChild(popup);
    popupContainer.style.visibility = 'visible';
    popupContainer.style.opacity = '1';
    
    // Close popup on close button click
    popup.querySelector('.popup-close').addEventListener('click', () => {
        popupContainer.style.opacity = '0';
        setTimeout(() => {
            popupContainer.style.visibility = 'hidden';
            popupContainer.innerHTML = '';
        }, 300);
    });
    
    // Close popup on button click
    popup.querySelector('.popup-button').addEventListener('click', () => {
        popupContainer.style.opacity = '0';
        setTimeout(() => {
            popupContainer.style.visibility = 'hidden';
            popupContainer.innerHTML = '';
        }, 300);
    });
}


// Lazy Load Images
function lazyLoadImages() {
    const gameImages = document.querySelectorAll('.game-card img');
    
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.src; // Keep the original src
                    imageObserver.unobserve(img);
                }
            });
        });
        
        gameImages.forEach(img => {
            imageObserver.observe(img);
        });
    }
}

// Service Worker Registration for PWA
if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
        // Register service worker with scope parameter to work on localhost
        navigator.serviceWorker.register('./service-worker.js', { scope: './' })
            .then(function(registration) {

                console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(function(err) {
                console.log('ServiceWorker registration failed: ', err);
            });
    });
}

// Prevent default behavior for all game links to enable analytics tracking
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('game-link') || e.target.parentElement.classList.contains('game-link')) {
        const link = e.target.classList.contains('game-link') ? e.target : e.target.parentElement;
        const href = link.getAttribute('href');
        const gameName = link.closest('.game-card').querySelector('.game-info p').textContent;
        
        // Track analytics (placeholder for actual analytics code)
        console.log(`Game clicked: ${gameName}`);
        
        // Allow default behavior to continue
    }
});

// Function to handle category clicks
function handleCategoryClick(category) {
    // This would filter games by category
    console.log(`Category clicked: ${category}`);
}

// Add click listeners to categories
document.querySelectorAll('.category').forEach(categoryElement => {
    categoryElement.addEventListener('click', function() {
        const categoryName = this.querySelector('p').textContent;
        handleCategoryClick(categoryName);
    });
});

// Create and add iframe loader styles
function addIframeLoaderStyles() {
    const styleEl = document.createElement('style');
    styleEl.innerHTML = `
        .iframe-loader-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 10;
        }
        
        .dark-mode .iframe-loader-container {
            background-color: rgba(30, 30, 30, 0.8);
        }
        
        .flashing-m {
            font-size: 4rem;
            font-weight: bold;
            font-family: 'Arial', sans-serif;
            animation: flashM 1.2s infinite;
            color: #006600; /* Dark green color */
        }
        
        @keyframes flashM {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }
        
        .iframe-container iframe {
            transition: opacity 0.3s ease, transform 0.5s ease-out;
        }
    `;
    document.head.appendChild(styleEl);
}

// Show iframe loader
function showIframeLoader(container) {
    // Create loader if it doesn't exist
    let loader = container.querySelector('.iframe-loader-container');
    if (!loader) {
        loader = document.createElement('div');
        loader.className = 'iframe-loader-container';
        loader.innerHTML = '<div class="flashing-m">M</div>';
        container.appendChild(loader);
    } else {
        loader.style.display = 'flex';
    }
}

// Hide iframe loader
function hideIframeLoader(container) {
    const loader = container.querySelector('.iframe-loader-container');
    if (loader) {
        loader.style.opacity = '0';
        setTimeout(() => {
            loader.style.display = 'none';
        }, 300);
    }
}
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // PWA Installation
    let deferredPrompt;
    const installBanner = document.getElementById('installBanner');
    const installButton = document.getElementById('installButton');
    
    if (installBanner && installButton) {
        // Initially hide the banner
        installBanner.style.display = 'none';
        
        // Check if already installed
        if (window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true) {
            installBanner.style.display = 'none';
        }
        
        // Before install prompt event
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Only show if not in standalone mode
            if (!window.matchMedia('(display-mode: standalone)').matches) {
                installBanner.style.display = 'flex';
            }
        });
        
        // Install button click
        installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                
                // Hide banner after user makes a choice
                installBanner.style.display = 'none';
                deferredPrompt = null;
            }
        });
        
        // App installed event
        window.addEventListener('appinstalled', () => {
            installBanner.style.display = 'none';
            deferredPrompt = null;
        });
    }
});
</script>
</body>
</html>
